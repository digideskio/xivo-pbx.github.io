<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/font-awesome.min.css">
  <link href="http://blog.xivo.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="XiVO Blog Atom">
  <link rel="shortcut icon" href="/public/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/public/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
  <meta name="author" content="XiVO developers" />
  <meta name="description" content="" />
<meta property="og:site_name" content="XiVO Blog"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="XiVO Blog"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://blog.xivo.io"/>
<meta property="og:image" content="public/xivo-logo.png">
  <title>XiVO Blog</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://blog.xivo.io">
        <img src="public/xivo-logo.png" alt="" title="">
      </a>
      <h1><a href="http://blog.xivo.io"></a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="http://xivo.io" target="_blank">XiVO.io</a></li>
          <li><a href="http://documentation.xivo.io" target="_blank">Documentation</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-twitter" href="http://twitter.com/xivodevteam" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="http://github.com/xivo-pbx" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-facebook" href="https://www.facebook.com/XiVO-86529730831" target="_blank"><i class="fa fa-facebook"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://blog.xivo.io">Home</a>
      <a href="/categories.html">Categories</a>
      <a href="/archives.html">Archives</a>
      <a href="http://blog.xivo.io/feeds/all.atom.xml">Atom</a>
    </nav>

<article>
  <header>
    <h2><a href="http://blog.xivo.io/openhardware-landscape-q4-2011.html#openhardware-landscape-q4-2011">OpenHardware landscape Q4 2011</a></h2>
    <p>
      Posted on Tue 01 November 2011 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p><strong>The OpenHardware community is expanding more and more these past
months and here a short landscape view of the community nowadays :</strong></p>
<ul>
<li><strong>OpenHardware large board projects</strong></li>
</ul>
<p>PandaBoard :
<a href="http://pandaboard.org/sites/default/files/board_reference/EA1/720-2152-001_EA1_BRD.zip">http://pandaboard.org/sites/default/files/board_reference/EA1/720-2152-001_EA1_BRD.zip</a><br />
Chumby :
<a href="http://files.chumby.com/bunnie/chumbyone_hw/chumbyone_gerbers.zip">http://files.chumby.com/bunnie/chumbyone_hw/chumbyone_gerbers.zip</a><br />
MilkyMist :
<a href="http://en.qi-hardware.com/wiki/Milkymist_One_RC1_PCB_Specification">http://en.qi-hardware.com/wiki/Milkymist_One_RC1_PCB_Specification</a><br />
Tormenta v2 PCI card :
<a href="http://www.zapatatelephony.org/t2/T2B2Gerber.zip">http://www.zapatatelephony.org/t2/T2B2Gerber.zip</a>  </p>
<ul>
<li><strong>OpenHardware smaller board projects</strong></li>
</ul>
<p>DIY boards : <a href="http://tuxgraphics.org/electronics/">http://tuxgraphics.org/electronics/</a>  </p>
<ul>
<li><strong>Open "specifications" Hardware products</strong></li>
</ul>
<p>Elphel camera :
<a href="http://www.elphel.com/importwiki?title=353_in_a_nutshell">http://www.elphel.com/importwiki?title=353_in_a_nutshell</a>  </p>
<ul>
<li><strong>Blogs/Events/Journals</strong></li>
</ul>
<p>OpenHardwareJournal :
<a href="http://openhardware.org/journal/2011/11/index.html">http://openhardware.org/journal/2011/11/index.html</a><br />
Hack-a-day : <a href="http://hackaday.com">http://hackaday.com</a>  </p>
<ul>
<li><strong>Events/Conferences/Workshops</strong></li>
</ul>
<p>OpenHardwareSummit : <a href="http://www.openhardwaresummit.org/">http://www.openhardwaresummit.org/</a><br />
OpenHardwareWorkshop :
<a href="http://www.ohwr.org/projects/ohr-meta/wiki/OHWorkshop">http://www.ohwr.org/projects/ohr-meta/wiki/OHWorkshop</a><br />
OpenSourceHardware2011 (Madrid) : <a href="http://oshwcon.org/">http://oshwcon.org/</a>  </p>
<ul>
<li><strong>Licences</strong></li>
</ul>
<p>OHANDA : <a href="http://ohanda.org">http://ohanda.org</a><br />
CERN : <a href="http://www.ohwr.org/projects/cernohl/wiki/CernOhlProjects">http://www.ohwr.org/projects/cernohl/wiki/CernOhlProjects</a><br />
OpenSourceHardwareDefintion : <a href="http://freedomdefined.org/OSHW">http://freedomdefined.org/OSHW</a>  </p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/xivo-wiki-news.html#xivo-wiki-news">XiVO wiki news</a></h2>
    <p>
      Posted on Tue 25 October 2011 in <a href="http://blog.xivo.io/category/software.html">Software</a>
    </p>
  </header>
  <div>
      <p>As you may already know, all the documentation of the XiVO project is on
the <a href="http://wiki.xivo.fr/" title="XiVO wiki">XiVo wiki</a> let's summarize what
has been edited or added recently.</p>
<p><img alt="xivowiki" src="/public/xivosoft/xivo_wiki.png" title="xivowiki, oct. 2011" /></p>
<ul>
<li>New links has been added to the main page, direct access to <a href="https://wiki.xivo.fr/index.php/Special:RecentChanges" title="recent changes">recent
    changes</a>
    and
    <a href="https://wiki.xivo.fr/index.php/Special:Categories" title="categories">categories</a>.</li>
<li>Documentation on <a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/CTI/xlets/queue_list" title="Xlet queue list">xlet queue
    list</a>
    useful if you are using XiVO to power your contact center.</li>
<li>Check also the updated <a href="https://wiki.xivo.fr/index.php/XiVO_1.1-Gallifrey/Workarounds" title="Gallifrey workaround">Gallifrey workaround
    page</a>
    about upgrade procedure.</li>
<li>Do you need to know how to <a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/Debug_Daemon">debug XiVO
    daemons</a> ?</li>
<li>Try to <a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/Install_XiVO_From_Scratch">install the XiVO
    Skaro</a>
    development in progress release.</li>
<li>You need to <a href="https://wiki.xivo.fr/index.php/VM-dev">setup a virtual
    machine</a> to contribute to
    XiVO development ?</li>
<li>How to <a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/Campagnes_d%27enregistrements" title="recording campaign">setup a recording
    campaign</a></li>
<li><a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/CTI_XiVO_Client_Qt_Developer" title="xivo client trics and tips">Tric an tips to
    develop</a>
    the XiVO QT Client</li>
</ul>
<p>Many other pages have also been updated, new categories added to be able
to find needed information quickly.</p>
<p>We are currently working to improve XiVO documentation. We would like to
reorganize it, and why not using another tool. Do not hesitate to share
your ideas by posting a comment.</p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/xivo-git-repository-re-organisation.html#xivo-git-repository-re-organisation">XiVO GIT repository re-organisation</a></h2>
    <p>
      Posted on Mon 17 October 2011 in <a href="http://blog.xivo.io/category/xivo-ipbx.html">XiVO IPBX</a>
      &#8226; Tagged with
      <a href="http://blog.xivo.io/tag/packages.html">packages</a>    </p>
  </header>
  <div>
      <h4>GIT_DIRECTORY specify the repository to use</h4>
<div class="highlight"><pre>GIT_DIRECTORY=xivo-<span class="cp">${</span><span class="n">XIVO</span><span class="cp">}</span>
              The subdirectory relative to SOURCE_GIT in which the  repository
              is to be found.  The actual clone is composed as follows:

              git clone <span class="cp">${</span><span class="n">SOURCE_GIT</span><span class="cp">}</span>/<span class="cp">${</span><span class="n">GIT_DIRECTORY</span><span class="cp">}</span>.git

              as of October 2011, there is a single repository named after the
              XIVO variable, hence the default  xivo-<span class="cp">${</span><span class="n">XIVO</span><span class="cp">}</span>  value.  It  will
              progressively be replaced by individual repositories that can be
              used as follows:

              packaging-farm DIRECTORY=pf-xivo-confgen GIT_DIRECTORY=xivo-confgen submit

              so that it uses:

              http://git.proformatique.com/?p=official/xivo-confgen.git

              instead of

              http://git.proformatique.com/?p=official/xivo-skaro.git
</pre></div>


<p><a href="http://packaging-farm.dachary.org/trac/changeset/d36f2baef2c601660d3efdef5c3734facef884ff">GIT_DIRECTORY</a>
specify the repository to use in submit-xivo.sh. Although it is only
applied to the source git directory, the name of the variable does not
contain the word SOURCE. This is in anticipation to the fact that the
debian and source repositories will eventually be merged. Even if this
does not happen, the structure of both repositories is planned to be the
same in the transition phase and the need to distinguish a directory
name that would be different is unlikely.</p>
<h4>fail to detect package build failure</h4>
<p>asterisk-addons <a href="http://packaging-farm.dachary.org/trac/ticket/27">failed to build but packaging-farm thinks it
succeeded</a>. As a
consequence the meta package that depends on it fails and it is not
obvious to track the error back to asterisk-addons. Here is the output
of the build of asterisk-addons:</p>
<div class="highlight"><pre>...
/usr/share/cdbs/1/rules/buildcore.mk:72: parsing asterisk-addons_1.4.13.orig.tar.gz ...
grep: debian/control.in: No such file or directory
egrep: debian/control.in: No such file or directory
/bin/sh: line 0: cd: build-tree/asterisk-addons-1.4.13: No such file or directory
/bin/sh: line 1: debian/control.in: No such file or directory
        rm -f debian/files
        find .  \( \( -type f -a \
                \( -name &#39;#*#&#39; -o -name &#39;.*~&#39; -o -name &#39;*~&#39; -o -name DEADJOE \
                 -o -name &#39;*.orig&#39; -o -name &#39;*.rej&#39; -o -name &#39;*.bak&#39; \
                 -o -name &#39;.*.orig&#39; -o -name .*.rej -o -name &#39;.SUMS&#39; \
                 -o -name TAGS -o \( -path &#39;*/.deps/*&#39; -a -name &#39;*.P&#39; \) \
                \) -exec rm -f {} \; \) -o \
                \( -type d -a -name autom4te.cache -prune -exec rm -rf {} \; \) \)
/usr/share/cdbs/1/rules/buildcore.mk:72: parsing asterisk-addons_1.4.13.orig.tar.gz ...
grep: debian/control.in: No such file or directory
egrep: debian/control.in: No such file or directory
/bin/sh: line 0: cd: build-tree/asterisk-addons-1.4.13: No such file or directory
make: *** build-tree/asterisk-addons-1.4.13: No such file or directory.  Stop.
 debian/rules build
/usr/share/cdbs/1/rules/buildcore.mk:72: parsing asterisk-addons_1.4.13.orig.tar.gz ...
grep: debian/control.in: No such file or directory
egrep: debian/control.in: No such file or directory
/bin/sh: line 0: cd: build-tree/asterisk-addons-1.4.13: No such file or directory
 debian/rules binary
/usr/share/cdbs/1/rules/buildcore.mk:72: parsing asterisk-addons_1.4.13.orig.tar.gz ...
grep: debian/control.in: No such file or directory
egrep: debian/control.in: No such file or directory
/bin/sh: line 0: cd: build-tree/asterisk-addons-1.4.13: No such file or directory
 dpkg-genchanges -b &gt;../asterisk-addons_1.4.13+pf.xivo.1.1.18-1_i386.changes
dpkg-genchanges: failure: cannot read files list file: No such file or directory
dpkg-buildpackage: failure: dpkg-genchanges gave error exit status 2
BUILD END packaging-farm --cd asterisk-addons ARCHITECTURE=i386 DISTRIBUTION=lenny chroot-login
</pre></div>


<p>When reading the error, it is obvious that the removal of control.in is
the source of the error.The success of a debian package build is tested
by looking for the dpkg-genchanges -b string in the output. This is the
last step of packaging and there cannot be any error after this. Errors
that occur before running dpkg-genchange will end the script immediately
and the string will not be found. However the script looking for
dpkg-genchange did not test for a failed run of dpkg-genchange. It is a
rare condition.The status.sh script <a href="http://packaging-farm.dachary.org/trac/changeset/d3bbab7c88148a9f5670e0f8c598174d392f8ed2">now checks if the run of
dpkg-genchange is
successful</a>.</p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/pcb-prototypes-and-flash-spi-testing.html#pcb-prototypes-and-flash-spi-testing">PCB prototypes and flash SPI testing</a></h2>
    <p>
      Posted on Tue 04 October 2011 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>On the XiVO Open Hardware side, we have been very busy lately writing
various bits of low level software, preparing the production of the
first prototypes, validating some hardware subsystems and doing all sort
of hardware + low level software debugging.</p>
<p>We are starting again to have things interesting to show, with some cute
photos.</p>
<p><strong>PCB prototypes</strong></p>
<p>We recently received our first PCB prototypes for our motherboard:</p>
<p><img alt="XIOH motherboard
prototype" src="/public/.xioh_motherboard_proto_m.jpg" title="XIOH motherboard prototype, oct. 2011" /></p>
<p>To prepare for testing the first assembled prototypes, we wanted to
somehow test the communication between the EP80579 and the SPI flash.
For now we have a 74LVC125A buffer between the two chips in order to
isolate the flash from the SoC, and we wanted to validate this design.</p>
<p>We previously did a small model of the flash subsystem, A few days ago I
heavily hacked it to make it work. (Well some of the modifications were
probably not really necessary, but now we have a perfect signal quality
:)</p>
<p><img alt="Heavily hacked flash prototype
board" src="/public/.heavily_hacked_flash_proto_m.jpg" title="Heavily hacked flash prototype board, oct. 2011" /></p>
<p>The next step was to do the same test, this time using one of our spare
naked PCBs dedicated to that kind of testing.We first soldered the flash
and the buffer, then we strapped a HE10 ISP header to replace the
EP80579 SPI drivers by a flash programmer (this is obviously not a
perfect replacement, but we can't do much better...)</p>
<p>Here is a photo of the header being soldered:</p>
<p><img alt="Soldering an SPI header at SoC
position" src="/public/.soldering_an_SPI_header_at_SoC_position_m.jpg" title="Soldering an SPI header at SoC position, oct. 2011" /></p>
<p>Here is the soldered result, connected to the programmer:</p>
<p><img alt="Testing flash
communication" src="/public/.testing_flash_communication_m.jpg" title="Testing flash communication, oct. 2011" /></p>
<p>And here is the result:</p>
<p><img alt="SPI flash communication test
results" src="/public/.flash_comm_test_result_m.jpg" title="SPI flash communication test results, oct. 2011" /></p>
<p>So we are now hopeful that at least the SPI flash communication will
work on our assembled board \\o/</p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/xivo-client-architecture.html#xivo-client-architecture">XiVO Client architecture</a></h2>
    <p>
      Posted on Fri 30 September 2011 in <a href="http://blog.xivo.io/category/software.html">Software</a>
    </p>
  </header>
  <div>
      <p>This blog post extends the diagram presented earlier explaining the
<a href="/index.php?post/2011/05/13/CTI-external-architecture-in-XiVO-1.1-and-1.2" title="CTI global architecture diagram">global architecture of
CTI</a>
in XiVO.</p>
<p>Here is what the XiVO Client looks like from a developer point of
view:<img alt="XiVO Client
architecture" src="/public/.xivoclient_m.jpg" title="XiVO Client architecture, sept. 2011" /></p>
<p>This is the new architecture that will be included in our new
development iteration beginning on Monday, 3rd October.The main change
is the "creation" of the XLetlib, that was previously into the Baselib.
The Baselib will be progressively stripped of everything not necessary:
the goal is to make it a reusable component, which will only manage the
connection with the CTI server.</p>
<p>Everything in the XiVO Client is written in C++ and Qt.</p>
<p>Let's explicit the spaghetti plate above a little :XLets, for XiVO
applets, are plugins to the XiVO Client. Almost every function of the
XiVO Client is pluggable/unpluggable, depending on the server
configuration to allow some XLet to be activated. You can see what XLets
look like in the <a href="https://wiki.xivo.fr/index.php/XiVO_1.0-Dalek/Documentation_XiVO_Client" title="XiVO Client user manual">XiVO
wiki</a>
(each tab is an XLet).</p>
<p>Each XLet can use the tools available in the XLetlib, that are mainly
GUI elements used to display information in a consistent way within all
XLets. They are also given access to the Baselib "API" (it is an API,
but scarcely documented for the time being), that receives or sends CTI
events and informations to the CTI server, such as "a new phone has
registered to Asterisk", "you have a new telephone message", "I want to
call this number", etc.</p>
<p>Of course, there are some options available to control how the XiVO
Client behaves ; about half of them control GUI aspects and the other
half control how the connection is established to the server. The GUI
related options are some of the things we still have to migrate out of
the Baselib, because someone wanting to connect to the CTI server
through our Baselib does not care that the XiVO Client presence
indicator is 5 pixels wide...</p>
<p>About the communication protocol between the XiVO Client and the CTI
server, everything is JSON encoded. For now, there is no compatibility
between protocol versions, but we're thinking about it. The goal is to
be able to release XiVO Client upgrades without having to wait for the
XiVO distribution to be released, especially if the new version
introduces mainly GUI improvements. But this can't happen if an "old"
server can not talk with a more recent client.</p>
<p>One could think that working on the XiVO Client may be boring, as it's
only easy GUI stuff, placing a button here, making it violet with green
dots for obscure marketing reasons. There's a part of GUI stuff, of
course, but I find the plugins-only, freely movable (in dock mode)
interface concept very interesting, it makes the XiVO Client a potential
swiss-army knife, to which anyone can choose exactly the tools he needs,
no more, no less.</p>
<p>Some links :<br />
<a href="http://git.proformatique.com/?p=official/xivo-client-qt.git;a=summary" title="XiVO Client git repository">The XiVO Client git
repository</a><br />
<a href="https://wiki.xivo.fr/index.php/XiVO_1.2-Skaro/CTI_XiVO_Client_Qt_Developer" title="XiVO Client developer documentation">Developer oriented
documentation</a><br />
<a href="https://wiki.xivo.fr/index.php/Support_Community#IRC" title="IRC channel infos">IRC
channel</a></p>
</p>
  </div>
</article>

  <div class="pagination">
    <a class="btn" href="http://blog.xivo.io/index23.html">
      <i class="fa fa-angle-left"></i> Older Posts
    </a>
      <a class="btn float-right" href="http://blog.xivo.io/index21.html">
        Newer Posts <i class="fa fa-angle-right"></i>
      </a>
  </div>

    <footer>
<p>
  &copy; XiVO developers 2015 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Create Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " XiVO Blog ",
  "url" : "http://blog.xivo.io",
  "image": "public/xivo-logo.png",
  "description": ""
}
</script></body>
</html>