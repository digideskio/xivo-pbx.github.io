<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="http://blog.xivo.io/theme/css/font-awesome.min.css">
  <link href="http://blog.xivo.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="XiVO Blog Atom">
  <link rel="shortcut icon" href="/public/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/public/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
  <meta name="author" content="XiVO developers" />
  <meta name="description" content="" />
<meta property="og:site_name" content="XiVO Blog"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="XiVO Blog"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://blog.xivo.io"/>
<meta property="og:image" content="public/xivo-logo.png">
  <title>XiVO Blog</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://blog.xivo.io">
        <img src="public/xivo-logo.png" alt="" title="">
      </a>
      <h1><a href="http://blog.xivo.io"></a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="http://xivo.io" target="_blank">XiVO.io</a></li>
          <li><a href="http://documentation.xivo.io" target="_blank">Documentation</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-twitter" href="http://twitter.com/xivodevteam" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="http://github.com/xivo-pbx" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-facebook" href="https://www.facebook.com/XiVO-86529730831" target="_blank"><i class="fa fa-facebook"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://blog.xivo.io">Home</a>
      <a href="/categories.html">Categories</a>
      <a href="/archives.html">Archives</a>
      <a href="http://blog.xivo.io/feeds/all.atom.xml">Atom</a>
    </nav>

<article>
  <header>
    <h2><a href="http://blog.xivo.io/using-a-logicanalyzer-to-prototypemonitor-the-data-buses-example-of-the-local-expansion-bus-between-the-cpu-and-the-isdn-interface.html#using-a-logicanalyzer-to-prototypemonitor-the-data-buses-example-of-the-local-expansion-bus-between-the-cpu-and-the-isdn-interface">Using a LogicAnalyzer to prototype/monitor the data buses: example of the Local Expansion Bus between the CPU and the ISDN interface</a></h2>
    <p>
      Posted on Tue 22 June 2010 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>In the process of developing an OpenHardware project, the prototyping
process is quite important and namely the validation of the data buses
exchanging telecommunications data (synchronization, reset, interrupts,
tx/rx data, signaling...) between the different interfaces and chips on
the hardware product.</p>
<p>At this step of, once the analog SP (Signal Processing) is validated,
one can test the data-buses using the so-called "LogicAnalyzer" that
will put the signal on the bus into readable binary data (from the TTL
levels triggered on edges or any other events on the trigger line
chosen).LogicAnalyzer can be quite expensive appliance (such as digital
scope or frequency analyzer) but nowadays affordable device exist also
allowing the hardware designer / tester to monitor the data on one bus.
Such kind of LogicAnalyzer are usually based on 3 parts:</p>
<ul>
<li>EZ-Hook type of connectors to probe the pins/headers on the
    prototype card or PCB (i.e. TP - TestPoint)</li>
<li>TTL-to-USB chip to transform the analog signal probed into binary
    signals</li>
<li>USB interface to connect the host-PC with the right analyzer
    software (usually unfortunately running for MS)</li>
</ul>
<p>Please find a list of USB Logic Analyzer available (some supported with
sigrok ^[<span id="rev-pnote-24-1"><a href="#pnote-24-1">1</a></span>]^</p>
<ul>
<li>USBee SX Test Pod Logic Analyzer ^[<span
    id="rev-pnote-24-2"><a href="#pnote-24-2">2</a></span>]^ (a HUGE sample buffer
    PC and USB based multifunction logic analyzer)</li>
<li>EE Electronics XLA ESLA100 (a cheap 8-channel logic analyzer)</li>
<li>ASIX Sigma (a 6 channel logic analyzer with sample rate support up
    to 200 MHz and with 256 Mbit on-board memory)</li>
<li>Openbench Logic Sniffer (a FPGA-based logic analyzer, supporting 32
    probes for probing up to 100MHz signals)</li>
<li>Braintechnology USB-LPS (a Cypress FX2 based logic analyzer and
    signal generator with up to 16 channels)</li>
<li>Buspirate ^[<span id="rev-pnote-24-3"><a href="#pnote-24-3">3</a></span>]^</li>
<li>Intronix Logicport LA1034 (a FPGA-based logic analyzer, capable of
    sampling data on 34 channels at up to 500MHz) ^[<span
    id="rev-pnote-24-4"><a href="#pnote-24-4">4</a></span>]^</li>
</ul>
<p>The one we are using for the prototyping of the XiVO OpenHardware IPBX
is a Saleae Logic Analyzer with the 1.0.21 software ^[<span
id="rev-pnote-24-5"><a href="#pnote-24-5">5</a></span>]^</p>
<p>Below are 2 snapshots of signals probed on the Local Expansion Bus
connecting the CPU with the ISDN chip:</p>
<ul>
<li>/CS: Chip Select signal (to indicate which chip on the LEB should
    be driven)</li>
<li>/RD: ReaD signal (from the CPU indicating that the data will be read
    from the ISDN chip registers)</li>
<li>/WR: WRite signal (from the CPU indicating that the data will be
    written into the ISDN chip registers)</li>
<li>ALE: Address LatchE to indicate which Address of Data to retrieve</li>
<li>D0: Bit 0 from the LEB data bus</li>
<li>D1: Bit 1 from the LEB data bus</li>
<li>D2: Bit 2 from the LEB data bus</li>
<li>A8: Address 8 (EX_ADDR<a href="8" title="8">8</a>) line on the CPU used to trigger
    the scope or the logic analyzer</li>
</ul>
<p>As one can see in the screenshot below, the A8 line is set on "0" + "1"
which means the triggering is done on upper edge from this signal.</p>
<p><img alt="LEB CPU ISDN LogicAnalyzer
traces" src="/public/.XiVO_IPBX_LEB_BUS_CPU_ISDN_Snapshot1_m.jpg" title="LEB CPU ISDN LogicAnalyzer traces, juin 2010" /></p>
<p>The view below is a zoomed view of the above screenshot with a focus on
the triggering on A8 line</p>
<p><img alt="LEB CPU ISDN LogicAnalyzer traces
zoom" src="/public/.XiVO_IPBX_LEB_BUS_CPU_ISDN_Snapshot2_m.jpg" title="LEB CPU ISDN LogicAnalyzer traces zoom, juin 2010" /></p>
<div class="footnotes">

#### Notes

\[<span id="pnote-24-1">[1](#rev-pnote-24-1)</span>\]
http://sigrok.org/wiki/Main\_Page

\[<span id="pnote-24-2">[2](#rev-pnote-24-2)</span>\] http://usbee.com

\[<span id="pnote-24-3">[3](#rev-pnote-24-3)</span>\]
http://dangerousprototypes.com/2009/11/03/bus-pirate-logic-analyzer-mode/

\[<span id="pnote-24-4">[4](#rev-pnote-24-4)</span>\]
http://www.pctestinstruments.com/

\[<span id="pnote-24-5">[5](#rev-pnote-24-5)</span>\]
http://www.saleae.com

</div>

</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/the-xivo-ipbx-openhardware-eco-system.html#the-xivo-ipbx-openhardware-eco-system">The XiVO IPBX OpenHardware eco-system</a></h2>
    <p>
      Posted on Thu 17 June 2010 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>As we move forward on the validation of the different functionnal block
of the XiVO IPBX OpenHardware project, we can now describe more
precisely the different blocks and the eco-system of the project.</p>
<p>The functionnal blocks are numbered now as followed for the validation
and PCB Schematics :</p>
<div class="highlight"><pre><span></span>1-CPU
2-ISDN
3-FXO-FXS
4-UART
5-EEPROM
6-ETH
7-SD-USB
8-SATA
9-LEDS
10-DDR2
11-SPI-FLASH
12-CPU-JTAG
13-PWR
14-CLK
15-RST
</pre></div>


<p>We will then follow-up on the documentation of the project for the
validation and PCB Schematics with this numbering allowing
sub-documentation and discussion for each functionnal block.</p>
<p>Concerning the eco-system of the project, the figure below describes the
different steps to go to the production of the XiVO IPBX OpenHardware
product.</p>
<p><img alt="XiVO IPBX OpenHardware
EcoSystem" src="/public/.XiVO_IPBX_OpenHardware_EcoSystem_m.jpg" title="XiVO IPBX OpenHardware EcoSystem, juin 2010" /></p>
<p>The next posts will describe the validation of the communication between
the CPU<a href="1" title="1">1</a> and the ISDN<a href="2" title="2">2</a> and the FXO-FXS<a href="3" title="3">3</a>.</p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/official-ohanda-annoucement.html#official-ohanda-annoucement">Official OHANDA annoucement</a></h2>
    <p>
      Posted on Mon 24 May 2010 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>OHANDA stands for Open Source Hardware and Design Alliance</p>
<p>OHANDA is an initiative to foster sustainable sharing of open hardware
and design. It was first drafted at the GOSH!-Grounding Open Source
Hardware summit at the Banff Centre in July 2009.</p>
<p>One of the first goals of the project is to build a service for sharing
open hardware designs which includes a certification model and a
registration. Recently we are working on getting an
OpenHardware<a href="TM" title="TM">TM</a> off the ground.</p>
<p>OHANDA is work in process. The process is open ...</p>
<p>Please check http://www.ohanda.organd subscribe to our
mailinglist:https://piksel.no/mailman/listinfo/ohanda</p>
</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/kicad-the-opensource-eda-tool-for-designing-pcbs.html#kicad-the-opensource-eda-tool-for-designing-pcbs">KiCAD: The OpenSource EDA tool for designing PCBs</a></h2>
    <p>
      Posted on Thu 20 May 2010 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>This post aims at presenting KiCAD ^[<span
id="rev-pnote-21-1"><a href="#pnote-21-1">1</a></span>]^, THE OpenSource EDA tool
for CAD file used to design PCB (Printed Circuit Boards) originally
designed and written by Jean-Pierre Charras, a researcher at LIS
(Laboratoire des Images et des Signaux) and a teacher at IUT de Saint
Martin d'Hères (France), in the field of electrical engineering and
image processing.KiCAD aims at being a tool equivalent to the
"closed-non-free" CAD software like Atium Protel, Eagle, Cadence with
the benefit of a free and open-source with a community of developer and
early-user implementing KiCAD for industrial hardware design of PCB up
to 10layers and a growing collection of component footprints and
reference in the library (the standard footprints like SOTs, QFPs, BGAs
are crucial to have the maximum support of the ICs, chips of the silicon
manufacturers)</p>
<p>Kicad is a set of four softwares and a project manager:</p>
<ul>
<li>Eeschema: Schematic entry.</li>
<li>Pcbnew:Board editor.</li>
<li>Gerbview: GERBER viewer (photoplotter documents).</li>
<li>Cvpcb: footprint selector for components used in the circuit design.</li>
<li>Kicad: project manager.</li>
</ul>
<p>KiCAD early-users and developers can participate to the project on the
subversion ^[<span id="rev-pnote-21-2"><a href="#pnote-21-2">2</a></span>]^</p>
<p>A bug tracker ^[<span id="rev-pnote-21-3"><a href="#pnote-21-3">3</a></span>]^ is
up and running for feedbacks from the users (GUI optimization for GNU
users and Windows users mainly).</p>
<p>From our XiVO IPBX OpenHardware project point of view, we are also using
KiCAD mainly for small PCB and Schematics of your interfaces between
each functionnal block. The screen-shot below presents the KiCAD
Eeschema to implement the TDM connexion between the CPU and the ISDN
chip:</p>
<p><img alt="XiVO ISDN TDM Connexions
Prototyping" src="/public/.KiCAD_XiVO_PCB_Prototyping_XHFC_4SU_TDM_Bus_m.jpg" title="XiVO ISDN TDM Connexions Prototyping, mai 2010" /></p>
<p>The right-side toolbar is for selecting the object to include in the
schematic (component, power, ground, wires ...), the top part toolbar is
there for the sheet preferences and settings and for the interaction
with the PCB editor and gerber exporter and viewer.</p>
<div class="footnotes">

#### Notes

\[<span id="pnote-21-1">[1](#rev-pnote-21-1)</span>\]
http://www.lis.inpg.fr/realise\_au\_lis/kicad/

\[<span id="pnote-21-2">[2](#rev-pnote-21-2)</span>\]
http://kicad.svn.sourceforge.net/viewvc/kicad/

\[<span id="pnote-21-3">[3](#rev-pnote-21-3)</span>\]
https://bugs.launchpad.net/kicad

</div>

</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="http://blog.xivo.io/the-perfect-openhardware-lab.html#the-perfect-openhardware-lab">The perfect OpenHardware Lab</a></h2>
    <p>
      Posted on Tue 11 May 2010 in <a href="http://blog.xivo.io/category/hardware.html">Hardware</a>
    </p>
  </header>
  <div>
      <p>In an OpenHardware project, making up a perfect lab is crucial in order
to prototype, test and solder parts before going to PCB pre-production
and production.</p>
<p>This post aims at presenting the set-up of the XiVO IPBX OpenHardware
lab at Proformatique.</p>
<p><strong>The main list of hardware equipment we have in our lab is:</strong></p>
<ul>
<li>Working-table from Langlois - Gradignan, France (typically used for
    electronic practical session in the secondary schools and
    engineering schools) with wooden table and neon to have a close-up
    working light</li>
<li>Oscilloscope Tektronix DP2012 with Ethernet interface (web server
    running on the digital Oscilloscope that can control the settings on
    the 2 ways)</li>
<li>Multimeter ChauvinArnoux - CA703 (CAT IV - 600V with the diode
    function used to validate continuity of PCB trace when looking for
    connectivity on a PCB)</li>
<li>Weller solder station WD1 with 2.5mm, 1mm and 0.5mm ends</li>
<li>2 x PowerSupply PS3003 (24V in order to be able to do 48V with 2
    power-supplies back-to-back)</li>
<li>Zooming lens for close-ups soldering and debugging</li>
<li>ATX PowerSupply to power motherboard and ATX-based EvaluationBoards</li>
<li>Saleae LogicAnalyzer (USB-based and supported with <strong>sigrok</strong> with
    Linux / http://www.sigrok.org/wiki/Main_Page for the list of
    supported logic analyzers) for data-bus debugging</li>
<li>Solderless breadboard SD-24 for wires connexion through the
    breadboard</li>
</ul>
<p><strong>Please find below a picture of our hardware lab with the equipment
descrived above:</strong></p>
<p><img alt="Proformatique - XiVO - Hardware
Lab" src="/public/.P1030609_m.jpg" title="Proformatique - XiVO - Hardware Lab, mai 2010" /></p>
<p>This is important to get also small tools like cutting tools, small
wires (like the precious HIRSCHMANN MKL0,64/25-0,25 - reference
#1011430 at farnell.com
<a href="http://fr.farnell.com/hirschmann/mkl0-64-25-0-25-red/cordon-de-test-rouge-0-64m/dp/1011430?Ntt=1011430" title="http://fr.farnell.com/hirschmann/mkl0-64-25-0-25-red/cordon-de-test-rouge-0-64m/dp/1011430?Ntt=1011430">http://fr.farnell.com/hirschmann/mk...</a>),
soldering wires (RoHS with 1mm and 0.5mm diameter), screw-drivers, SMT
and non SMT resistors, capacitors and selfs, labels for different wire
description.</p>
</p>
  </div>
</article>

  <div class="pagination">
    <a class="btn" href="http://blog.xivo.io/index40.html">
      <i class="fa fa-angle-left"></i> Older Posts
    </a>
      <a class="btn float-right" href="http://blog.xivo.io/index38.html">
        Newer Posts <i class="fa fa-angle-right"></i>
      </a>
  </div>

    <footer>
<p>
  &copy; XiVO developers 2015 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Create Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
         src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " XiVO Blog ",
  "url" : "http://blog.xivo.io",
  "image": "public/xivo-logo.png",
  "description": ""
}
</script></body>
</html>